"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[354],{1427:(e,t,r)=>{r.d(t,{GrainElement:()=>o});var n=r(5155),a=r(5100),l=r(4179);function o(e){let{opacity_multiplier:t=1}=e,{resolved_theme:r}=(0,a.w)();return(0,n.jsx)(l.A,{opacity:t*("dark"===r?.15:.08),blend:"normal"})}},2354:(e,t,r)=>{r.d(t,{default:()=>w});var n=r(5155),a=r(2115),l=r(6874),o=r.n(l),c=r(5695),s=r(5100),i=r(8185),u=r(2405),d=r(3101),f=r(7151);let m={light:(0,n.jsx)(i.A,{size:18,stroke:2}),dark:(0,n.jsx)(u.A,{size:18,stroke:2}),system:(0,n.jsx)(d.A,{size:18,stroke:2})},h={light:"☀️",dark:"\uD83C\uDF19",system:"\uD83C\uDF13"};function p(e){let{button_mode:t,className:r}=e,{theme:l,setTheme:o,resolved_theme:c}=(0,s.w)(),[i,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>u(!0),[]),(0,a.useEffect)(()=>{i&&(console.log("[theme] theme:",l,"resolved:",c,"html data-theme:",document.documentElement.getAttribute("data-theme")),c&&(document.documentElement.style.colorScheme="dark"===c?"dark":"light"),(0,f.rL)())},[i,l,c]);let d=null!=l?l:"system",p=(0,a.useMemo)(()=>{var e;return(0,n.jsxs)("button",{onClick:()=>{let e="light"===d?"dark":"dark"===d?"system":"light";o(e);let t=window.matchMedia("(prefers-color-scheme: dark)").matches,r="system"===e?t?"dark":"light":e,n=document.documentElement;n.setAttribute("data-theme",r),n.style.colorScheme="dark"===r?"dark":"light",requestAnimationFrame(()=>{requestAnimationFrame(f.rL)})},className:"p-0 rounded-xl cursor-pointer bg-fg-2 hover:bg-bg text-primary ".concat(r),title:"Switch theme (current: ".concat(d,")"),children:["icon"===t&&(null!=(e=m[d])?e:h[d]),"text"===t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"font-medium",children:"THEME:"})," ",d.toUpperCase()]})]})},[d,t,o,r]);return i?p:(0,n.jsx)(n.Fragment,{})}var x=r(7650);let g=e=>{let{width:t,height:l=6,hovered:o,offset:c,anim_type:i=0}=e,u=(0,a.useRef)(null),d=(0,a.useRef)(null),f=(0,a.useRef)(null),[m,h]=(0,a.useState)(!1),p=(0,a.useRef)(o),{resolved_theme:x}=(0,s.w)(),g=(0,a.useMemo)(()=>"dark"===x?"#ffffff":"#121212",[x]),v=(0,a.useRef)(0),b=(0,a.useRef)(0);return(0,a.useEffect)(()=>{p.current=o,o&&!m?(h(!0),clearTimeout(f.current),f.current=null):!o&&m&&(f.current=setTimeout(()=>{v.current<.01&&h(!1),f.current=null},1800))},[o,m]),(0,a.useEffect)(()=>{if(d.current)return;let e=!0,n=async()=>{var n;let a=await Promise.all([r.e(33),r.e(323),r.e(315),r.e(991)]).then(r.bind(r,5908));e&&(console.log("Load p5 once"),null==(n=u.current)||n.querySelectorAll("canvas").forEach(e=>e.remove()),d.current=new a.default(e=>{let r=(e,t)=>e<.5?.5*Math.pow(2*e,t):1-.5*Math.pow(2*(1-e),t),n=t=>e.constrain(t,0,1),a=Math.floor((t+l)*.2),o=.5*c,s=(a-1)*.5,d=(t,a,l)=>{let o=.5*Math.sin(100*l)+.5;e.beginShape();let c=t/e.sqrt(2);for(let t=0;t<4;t++){let l=(t+.5+Math.floor(4*o))*e.TAU/4,s=c;s*=n(e.map(a,t/4,0+(t+1)*1/4,0,1)),0==i?s*=n(e.map((b.current+3*o)%1,t/4,0+(t+1)*1/4,0,1)):1==i&&(s*=r(1-Math.pow(1-(.5*e.sin((b.current+t/4+.1*o)*e.TAU)+.5),1),4));let u=e.cos(l)*s,d=e.sin(l)*s;e.vertex(u,d)}e.endShape(e.CLOSE)};e.setup=()=>{e.createCanvas(t,l,e.P2D).parent(u.current),e.noStroke(),e.fill(g)};let f=e=>{let r=t-c,n=l-c,a=r/(r+n),o=2*(e%=1)>1,s=2*e%1;if(s<a){let e=-(.5*r)+s/a*r,t=-(.5*n);return o?{x:-e,y:-t}:{x:e,y:t}}{let e=-(.5*n)+(s-a)/(1-a)*n,t=.5*r;return o?{x:-t,y:-e}:{x:t,y:e}}};e.draw=()=>{e.clear(),e.translate(.5*t,.5*l),p.current?v.current+=.1*(1-v.current):v.current-=.01,v.current=e.constrain(v.current,0,1),b.current+=.02*v.current;let c=v.current;for(let t=0;t<a;t++){let l=n((c-.30000000000000004*Math.abs(1-t/s))/.7);l=r(l,2),e.push();let{x:i,y:u}=f((t+b.current)*1/a);e.translate(i,u),d(2*o,l,t/a),e.pop()}}}))};return d.current||n(),()=>{e=!1,d.current&&(d.current.remove(),d.current=null)}},[t,l,c]),(0,a.useEffect)(()=>{let e=d.current;e&&e.fill(g)},[g]),(0,n.jsx)("div",{ref:u,className:"z-200",style:{opacity:+!!m,pointerEvents:"none"}})};function v(e){var t,r;let{href:l,children:c,className:s,offset:i=8,anim_type:u=0}=e,[d,f]=(0,a.useState)(!1),[m,h]=(0,a.useState)(null),p=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(!p.current)return;let e=p.current,t=()=>h({width:e.offsetWidth,height:e.offsetHeight});t();let r=new ResizeObserver(t);return r.observe(e),()=>r.disconnect()},[c]);let x=(null!=(t=null==m?void 0:m.width)?t:0)+8,v=(null!=(r=null==m?void 0:m.height)?r:0)+-4;return(0,n.jsxs)(o(),{ref:p,href:l,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),className:"relative inline-block ".concat(s),children:[c,m&&(0,n.jsx)("div",{className:"absolute pointer-events-none",style:{left:"-".concat(i+4,"px"),top:"-".concat(i+-2,"px"),width:x+2*i,height:v+2*i},children:(0,n.jsx)(g,{width:x+2*i,height:v+2*i,hovered:d,offset:i,anim_type:u})})]})}let b=null;function y(e){let{children:t}=e,[r,l]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=setTimeout(()=>l(!1),500);return()=>clearTimeout(e)},[]),(0,n.jsx)("div",{className:"relative inline-block  overflow-x-visible  overflow-y-clip [--lh:1em] h-[var(--lh)]  leading-none ",onMouseEnter:()=>{r||l(!0)},onMouseLeave:()=>{r||l(!1)},children:(0,n.jsxs)("div",{className:"will-change-transform \n          transform-gpu \n          ".concat(r?"transition-transform duration-500 -translate-y-[var(--lh)]":"translate-y-0"),onTransitionEnd:()=>{l(!1)},children:[(0,n.jsx)("span",{className:"block",children:t}),(0,n.jsx)("span",{className:"block absolute top-full",children:t})]})})}var k=r(1427);function w(){let[e,t]=(0,a.useState)(!1),l=(0,c.usePathname)();(0,a.useEffect)(()=>{b||(b=Promise.all([r.e(33),r.e(323),r.e(315),r.e(991)]).then(r.bind(r,5908)).then(e=>(function(e){if("function"==typeof(null==e?void 0:e.default))return e.default;if("function"==typeof e)return e;throw Error("Failed to load p5 constructor from module.")})(e)).catch(e=>{throw b=null,e}))},[]);let s=()=>t(!1),i=[{href:"/processing",label:"PROCESSING"},{href:"/blender",label:"BLENDER"},{href:"/other",label:"OTHER"},{href:"/about",label:"ABOUT"}],u=[{href:"/",label:"HOME"},...i];return(0,n.jsxs)("header",{className:"sticky top-0 z-50 flex justify-between items-center py-1 px-3 \n        \n        backdrop-blur-md\n        bg-back/70 text-primary\n      ",children:["/"!==l&&(0,n.jsx)(k.GrainElement,{opacity_multiplier:.75}),(0,n.jsx)(v,{href:"/",className:"text-xl font-bold tracking-tighter leading-[1.1]",offset:8,anim_type:1,children:(0,n.jsx)("div",{className:"flex gap-2",children:(0,n.jsx)("div",{children:"jn3008"})})}),(0,n.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,n.jsxs)("nav",{className:"hidden md:flex gap-9",children:[i.map(e=>{let{href:t,label:r}=e;return(0,n.jsx)("div",{children:(0,n.jsx)(v,{href:t,className:"nav-link tracking-tight ".concat(l===t?"font-normal italic":"font-medium"),offset:4.5,children:(0,n.jsx)(y,{children:r})})},t+r)}),(0,n.jsx)(p,{button_mode:"icon"})]}),(0,n.jsx)("button",{className:"md:hidden flex-1 w-6 h-6 rounded-full bg-primary cursor-pointer",onClick:()=>t(!0),"aria-label":"Open menu"})]}),e&&(0,x.createPortal)((0,n.jsxs)("div",{className:"fixed inset-0 z-[100] flex flex-col bg-black/80 backdrop-blur-sm",onClick:s,children:[(0,n.jsx)(k.GrainElement,{opacity_multiplier:1}),(0,n.jsx)("div",{className:"flex flex-1 items-center justify-center",children:(0,n.jsx)("div",{className:"flex flex-col items-center gap-6 text-white text-2xl font-bold",onClick:e=>e.stopPropagation(),children:u.map(e=>{let{href:t,label:r}=e;return l===t?(0,n.jsx)(o(),{href:t,className:"nav-link !font-normal italic",children:r},t):(0,n.jsx)(o(),{href:t,onClick:e=>{e.stopPropagation(),s()},className:"nav-link font-semibold",children:r},t)})})}),(0,n.jsx)("div",{className:"flex justify-center p-6 ",onClick:e=>e.stopPropagation(),children:(0,n.jsx)(p,{button_mode:"text",className:"text-white text-2xl"})})]}),document.body)]})}},4179:(e,t,r)=>{r.d(t,{A:()=>o,GrainBackgroundElementSpotlight:()=>c});var n=r(5155),a=r(2115),l=r(5100);function o(e){let{opacity:t=.2,size:r=256,blend:o="overlay"}=e,c=(0,a.useRef)(null),{resolved_theme:s}=(0,l.w)();return(0,a.useEffect)(()=>{let e=document.createElement("canvas");e.width=r,e.height=r;let n=e.getContext("2d"),a=n.createImageData(r,r),l=Math.round(255*t);for(let e=0;e<a.data.length;e+=4){let t=255*Math.pow(Math.random(),12);a.data[e]=a.data[e+1]=a.data[e+2]=t,a.data[e+3]=l}n.putImageData(a,0,0);let o=e.toDataURL();c.current&&(c.current.style.backgroundImage="url(".concat(o,")"),c.current.style.backgroundRepeat="repeat",c.current.style.backgroundSize="".concat(r,"px ").concat(r,"px"))},[t,r]),(0,n.jsx)("div",{ref:c,className:"fixed inset-0 pointer-events-none -z-10 \n        ".concat("normal"!==o?"mix-blend-".concat(o):""),style:{filter:"invert(".concat(+("dark"!==s),")")}})}function c(e){let{opacity:t=.2,size:r=256,blend:l="overlay",radius:o=200}=e,c=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=document.createElement("canvas");e.width=r,e.height=r;let n=e.getContext("2d"),a=n.createImageData(r,r),l=Math.round(255*t);for(let e=0;e<a.data.length;e+=4){let t=255*Math.random();a.data[e]=a.data[e+1]=a.data[e+2]=t,a.data[e+3]=l}n.putImageData(a,0,0);let o=e.toDataURL();c.current&&(c.current.style.backgroundImage="url(".concat(o,")"),c.current.style.backgroundRepeat="repeat",c.current.style.backgroundSize="".concat(r,"px ").concat(r,"px"))},[t,r]),(0,a.useEffect)(()=>{let e=c.current;if(!e)return;let t=t=>{let r=t.clientX,n=t.clientY;e.style.setProperty("--mx","".concat(r,"px")),e.style.setProperty("--my","".concat(n,"px"))};return window.addEventListener("pointermove",t),()=>window.removeEventListener("pointermove",t)},[]),(0,n.jsx)("div",{ref:c,className:"fixed inset-0 pointer-events-none -z-10 ".concat("normal"!==l?"mix-blend-".concat(l):""),style:{WebkitMaskImage:"radial-gradient(circle var(--r, ".concat(o,"px) at var(--mx, 50%) var(--my, 50%), rgba(0,0,0,1) 0%, rgba(0,0,0,0) 100%)"),maskImage:"radial-gradient(circle var(--r, ".concat(o,"px) at var(--mx, 50%) var(--my, 50%), rgba(0,0,0,1) 0%, rgba(0,0,0,0) 100%)"),WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"}})}},5100:(e,t,r)=>{r.d(t,{N:()=>o,w:()=>c});var n=r(5155),a=r(2115);let l=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=function(e,t,r){let{reviver:n,replacer:l}={},[o,c]=(0,a.useState)(()=>{let r=localStorage.getItem(e);if(null==r)return t;try{return JSON.parse(r,n)}catch(e){return r}});return(0,a.useEffect)(()=>{try{localStorage.setItem(e,JSON.stringify(o,l))}catch(e){}},[e,o,l]),[o,c]}("theme","system"),[c,s]=(0,a.useState)("light");return(0,a.useEffect)(()=>{let e=document.documentElement;if(e.setAttribute("data-theme",c),e.style.colorScheme=c,"system"===r){let e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{s(e.matches?"dark":"light")};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}},[r,c]),(0,a.useEffect)(()=>{s((e=>{let t=window.matchMedia("(prefers-color-scheme: dark)").matches;return"system"===e?t?"dark":"light":e})(r))},[r]),(0,n.jsx)(l.Provider,{value:{theme:r,resolved_theme:c,setTheme:o},children:t})}function c(){let e=(0,a.useContext)(l);if(!e)throw Error("useThemeContext must be inside ThemeProvider");return e}},7151:(e,t,r)=>{r.d(t,{$p:()=>m,EC:()=>i,Hi:()=>l,PL:()=>a,Rl:()=>v,TC:()=>M,UF:()=>p,Uh:()=>w,ZZ:()=>h,_s:()=>s,fG:()=>E,jQ:()=>c,rL:()=>u,z9:()=>k});var n=r(3264);let a=new n.Gu$(.02,6,5),l=.57,o=new n.O9p(.6154797086703873,-(.25*Math.PI),0,"XYZ"),c=new n.kn4().makeRotationFromEuler(o),s=new n.V9B({color:new n.Q1f("#ffffff"),depthTest:!0,depthWrite:!0}),i=new n.V9B({color:new n.Q1f("#000000")});function u(){let e=getComputedStyle(document.documentElement),t=e.getPropertyValue("--back").trim(),r=e.getPropertyValue("--text").trim(),n=e=>e.replace(/rgb\((\d+)\s+(\d+)\s+(\d+)\)/,"rgb($1,$2,$3)");i.color.set(n(t)||"#000"),s.color.set(n(r)||"#fff"),console.log("globalCubeMaterial.color ",i.color)}function d(e,t){return e.applyAxisAngle(new n.Pq0(1,0,0),t)}function f(e,t){return e.applyAxisAngle(new n.Pq0(0,1,0),t)}function m(e){return d(f(e.multiplyScalar(l),.25*Math.PI),-.6154797086703873)}function h(e,t,r){return-t<1+e+r&&t-r-1<-e}function p(e){return f(d(e,.6154797086703873),-(.25*Math.PI)).multiplyScalar(1/l)}function x(e,t,r,n,a){let l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=n+(a-n)*(e-t)/(r-t);if(!l)return o;if(a<n){if(o<a)return a;if(o>n)return n}else{if(o>a)return a;if(o<n)return n}return o}let g=e=>e*e;function v(e,t){return e<.5?.5*Math.pow(2*e,t):1-.5*Math.pow(2*(1-e),t)}let b=[0,.55,.85],y=[1,.18,.035];function k(e){for(let t=0;t<3;t++)if(e<b[t])return 1-y[t-1]*(1-g(x(e,b[t-1],b[t],1==t?0:-1,1)));return 1-(1-Math.min(1,Math.max(0,g(x(e,b[2],1,-1,1)))))*y[2]}function w(e){let t=Math.cos(-(.25*Math.PI)),r=-.5773502691896257*Math.sin(-(.25*Math.PI));return new n.Pq0(Math.round(e.x/t),Math.round(-r*e.x/t/.816496580927726+e.y/.816496580927726),0)}function E(e,t){return Math.floor(Math.random()*(t-e+1))+e}function M(e){let t=E(-e,e),r=E(-e,e);for(;!h(t,r,e);)t=E(-e,e),r=E(-e,e);var a=new n.I9Y(t,r);let l=Math.cos(-(.25*Math.PI*1)),o=-.5773502691896257*Math.sin(-(.25*Math.PI*1));return new n.Pq0(Math.round(l*a.x),Math.round(o*a.x-.816496580927726*a.y),0)}}}]);