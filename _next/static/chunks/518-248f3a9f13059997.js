(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[518],{121:t=>{(t.exports=function(t){this.top=t.top,this.left=t.left,this.width=t.width,this.spacing=t.spacing,this.targetRowHeight=t.targetRowHeight,this.targetRowHeightTolerance=t.targetRowHeightTolerance,this.minAspectRatio=this.width/t.targetRowHeight*(1-t.targetRowHeightTolerance),this.maxAspectRatio=this.width/t.targetRowHeight*(1+t.targetRowHeightTolerance),this.edgeCaseMinRowHeight=t.edgeCaseMinRowHeight,this.edgeCaseMaxRowHeight=t.edgeCaseMaxRowHeight,this.widowLayoutStyle=t.widowLayoutStyle,this.isBreakoutRow=t.isBreakoutRow,this.items=[],this.height=0}).prototype={addItem:function(t){var e,i,n=this.items.concat(t),o=this.width-(n.length-1)*this.spacing,r=n.reduce(function(t,e){return t+e.aspectRatio},0),a=o/this.targetRowHeight;return this.isBreakoutRow&&0===this.items.length&&t.aspectRatio>=1?(this.items.push(t),this.completeLayout(o/t.aspectRatio,"justify"),!0):r<this.minAspectRatio?(this.items.push(Object.assign({},t)),!0):r>this.maxAspectRatio?0===this.items.length?(this.items.push(Object.assign({},t)),this.completeLayout(o/r,"justify"),!0):(e=this.width-(this.items.length-1)*this.spacing,Math.abs(r-a)>Math.abs((i=this.items.reduce(function(t,e){return t+e.aspectRatio},0))-e/this.targetRowHeight))?(this.completeLayout(e/i,"justify"),!1):(this.items.push(Object.assign({},t)),this.completeLayout(o/r,"justify"),!0):(this.items.push(Object.assign({},t)),this.completeLayout(o/r,"justify"),!0)},isLayoutComplete:function(){return this.height>0},completeLayout:function(t,e){var i,n,o,r,a,s,l=this.left,c=this.width-(this.items.length-1)*this.spacing;(void 0===e||0>["justify","center","left"].indexOf(e))&&(e="left"),n=Math.max(this.edgeCaseMinRowHeight,Math.min(t,this.edgeCaseMaxRowHeight)),t!==n?(this.height=n,i=c/n/(c/t)):(this.height=t,i=1),this.items.forEach(function(t){t.top=this.top,t.width=t.aspectRatio*this.height*i,t.height=this.height,t.left=l,l+=t.width+this.spacing},this),"justify"===e?(l-=this.spacing+this.left,o=(l-this.width)/this.items.length,r=this.items.map(function(t,e){return Math.round((e+1)*o)}),1===this.items.length?(a=this.items[0],a.width-=Math.round(o)):this.items.forEach(function(t,e){e>0?(t.left-=r[e-1],t.width-=r[e]-r[e-1]):t.width-=r[e]})):"center"===e&&(s=(this.width-l)/2,this.items.forEach(function(t){t.left+=s+this.spacing},this))},forceComplete:function(t,e){"number"==typeof e?this.completeLayout(e,this.widowLayoutStyle):this.completeLayout(this.targetRowHeight,this.widowLayoutStyle)},getItems:function(){return this.items}}},1769:(t,e,i)=>{"use strict";var n=i(121);function o(t,e){var i;return!1!==t.fullWidthBreakoutRowCadence&&(e._rows.length+1)%t.fullWidthBreakoutRowCadence==0&&(i=!0),new n({top:e._containerHeight,left:t.containerPadding.left,width:t.containerWidth-t.containerPadding.left-t.containerPadding.right,spacing:t.boxSpacing.horizontal,targetRowHeight:t.targetRowHeight,targetRowHeightTolerance:t.targetRowHeightTolerance,edgeCaseMinRowHeight:.5*t.targetRowHeight,edgeCaseMaxRowHeight:2*t.targetRowHeight,rightToLeft:!1,isBreakoutRow:i,widowLayoutStyle:t.widowLayoutStyle})}function r(t,e,i){return e._rows.push(i),e._layoutItems=e._layoutItems.concat(i.getItems()),e._containerHeight+=i.height+t.boxSpacing.vertical,i.items}t.exports=function(t,e){var i,n,a,s,l,c,h={},u={},d={},g={};return d.top=isNaN(parseFloat((h=Object.assign({containerWidth:1060,containerPadding:10,boxSpacing:10,targetRowHeight:320,targetRowHeightTolerance:.25,maxNumRows:1/0,forceAspectRatio:!1,showWidows:!0,fullWidthBreakoutRowCadence:!1,widowLayoutStyle:"left"},e=e||{})).containerPadding.top))?h.containerPadding:h.containerPadding.top,d.right=isNaN(parseFloat(h.containerPadding.right))?h.containerPadding:h.containerPadding.right,d.bottom=isNaN(parseFloat(h.containerPadding.bottom))?h.containerPadding:h.containerPadding.bottom,d.left=isNaN(parseFloat(h.containerPadding.left))?h.containerPadding:h.containerPadding.left,g.horizontal=isNaN(parseFloat(h.boxSpacing.horizontal))?h.boxSpacing:h.boxSpacing.horizontal,g.vertical=isNaN(parseFloat(h.boxSpacing.vertical))?h.boxSpacing:h.boxSpacing.vertical,h.containerPadding=d,h.boxSpacing=g,u._layoutItems=[],u._awakeItems=[],u._inViewportItems=[],u._leadingOrphans=[],u._trailingOrphans=[],u._containerHeight=h.containerPadding.top,u._rows=[],u._orphans=[],h._widowCount=0,i=h,n=t.map(function(t){return t.width&&t.height?{aspectRatio:t.width/t.height}:{aspectRatio:t}}),c=[],i.forceAspectRatio&&n.forEach(function(t){t.forcedAspectRatio=!0,t.aspectRatio=i.forceAspectRatio}),n.some(function(t,e){if(isNaN(t.aspectRatio))throw Error("Item "+e+" has an invalid aspect ratio");if(s||(s=o(i,u)),a=s.addItem(t),s.isLayoutComplete()){if(c=c.concat(r(i,u,s)),u._rows.length>=i.maxNumRows)return s=null,!0;if(s=o(i,u),!a&&(a=s.addItem(t),s.isLayoutComplete())){if(c=c.concat(r(i,u,s)),u._rows.length>=i.maxNumRows)return s=null,!0;s=o(i,u)}}}),s&&s.getItems().length&&i.showWidows&&(u._rows.length?(l=u._rows[u._rows.length-1].isBreakoutRow?u._rows[u._rows.length-1].targetRowHeight:u._rows[u._rows.length-1].height,s.forceComplete(!1,l)):s.forceComplete(!1),c=c.concat(r(i,u,s)),i._widowCount=s.getItems().length),u._containerHeight=u._containerHeight-i.boxSpacing.vertical,u._containerHeight=u._containerHeight+i.containerPadding.bottom,{containerHeight:u._containerHeight,widowCount:i._widowCount,boxes:u._layoutItems}}},7211:t=>{t.exports={toggle:"Gallery_toggle__hkqzC",galleryRows:"Gallery_galleryRows__BkK15",column:"Gallery_column__LNN0D",videoWrapper:"Gallery_videoWrapper__de23j",galleryVertical:"Gallery_galleryVertical__90dRk",overlay:"Gallery_overlay__s59Pr",zoomVideo:"Gallery_zoomVideo__B6anM"}},7990:(t,e,i)=>{"use strict";i.d(e,{default:()=>x});var n=i(5155),o=i(2115);let r=[],a=[],s=0,l=new Set;function c(){let t={active:a.length,queued:r.length,activeList:a.map(t=>{let{id:e,name:i,priority:n}=t;return{id:e,name:i,priority:n}}),queuedList:r.map(t=>{let{id:e,name:i,priority:n}=t;return{id:e,name:i,priority:n}})};l.forEach(e=>e(t))}function h(){if(0!==a.length)return a.reduce((t,e)=>e.priority<t.priority?e:t,a[0])}let u=[];function d(t){let{src:e,poster:i,wrapperStyle:d,label:g,playOnHover:p=!1,fetchThresholdPct:f=50,maxFetched:w=7,onClickVideo:m}=t,y=(0,o.useRef)("undefined"!=typeof crypto&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2)).current,v=(0,o.useRef)(null),b=(0,o.useRef)(null),x=(0,o.useRef)(!1),R=(0,o.useRef)(null),_=(0,o.useRef)(null),[H,S]=(0,o.useState)(!1),[j,k]=(0,o.useState)(0),[L,C]=(0,o.useState)(null),[N,E]=(0,o.useState)(!1),[P,M]=(0,o.useState)(0),[I,F]=(0,o.useState)(0),[A,z]=(0,o.useState)([]),[O,T]=(0,o.useState)([]),W=(0,o.useRef)(null);(0,o.useEffect)(()=>{var t;return t=t=>{let{active:e,queued:i,activeList:n,queuedList:o}=t;M(e),F(i),z(n),T(o)},l.add(t),t({active:a.length,queued:r.length,activeList:a.map(t=>{let{id:e,name:i,priority:n}=t;return{id:e,name:i,priority:n}}),queuedList:r.map(t=>{let{id:e,name:i,priority:n}=t;return{id:e,name:i,priority:n}})}),()=>{l.delete(t)}},[]),(0,o.useEffect)(()=>{let t=v.current;if(!t)return;let e={threshold:Array.from({length:21},(t,e)=>e/20)};if(f<0){let t=Math.abs(f);e.rootMargin="".concat(t,"% 0% ").concat(t,"% 0%")}let i=new IntersectionObserver(t=>{let[e]=t,i=100*e.intersectionRatio;f<0?S(e.isIntersecting):S(i>=f)},e);return i.observe(t),()=>i.disconnect()},[f]);let B=()=>{let t=v.current;if(!t)return 0;let e=t.getBoundingClientRect();return Math.floor((1-Math.min(1,Math.abs(e.top+e.height/2-window.innerHeight/2)/(window.innerHeight/2+e.height/2)))*1e3)},V=(0,o.useCallback)(()=>{if(H&&!x.current&&!_.current&&!a.some(t=>t.id===y)&&!r.find(t=>t.id===y)){let t=new AbortController;W.current=t;let i=async()=>{try{let i=await fetch(e,{signal:t.signal});if(!i.body)throw Error("No response body");let n=Number(i.headers.get("content-length"))||0,o=i.body.getReader(),r=0,a=[];for(;;){let{done:t,value:e}=await o.read();if(t)break;e&&(a.push(e),r+=e.length,n&&k(Math.round(r/n*100)))}let s=i.headers.get("content-type")||"video/mp4",l=new Blob(a,{type:s}),c=URL.createObjectURL(l);R.current=c,C(c),_.current=c,k(100),E(!0),x.current=!0}catch(t){t instanceof DOMException&&t.name}},n=void 0!==g?String(g):e.split("/").pop()||y;!function(t){let e=a.find(e=>e.id===t.id);if(e){e.priority=t.priority,c();return}let i=r.findIndex(e=>e.id===t.id);i>=0?(r[i].priority=t.priority,r[i].name=t.name):r.push(t),r.sort((t,e)=>e.priority-t.priority);let n=r[0],o=h();n&&o&&n.priority>o.priority+100&&o.controller.abort(),c(),function t(){for(;a.length<2&&r.length>0;){let e=r.shift();a.push(e),c(),Promise.resolve(e.start()).catch(t=>{}).finally(()=>{a=a.filter(t=>t.id!==e.id),c(),t()})}}()}({id:y,name:n,start:i,priority:B()+ ++s,controller:t})}},[H,y,g,e]);return(0,o.useEffect)(()=>{if(!H)return;let t=0,e=()=>{cancelAnimationFrame(t),t=requestAnimationFrame(()=>{!function(t,e){let i=a.find(e=>e.id===t);if(i){i.priority=e,c();return}let n=r.find(e=>e.id===t);if(n){n.priority=e,r.sort((t,e)=>e.priority-t.priority);let i=r[0],o=h();i&&o&&i.id===t&&i.priority>o.priority+100&&o.controller.abort(),c()}}(y,B()+ ++s),x.current||_.current||V()})};return window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e),e(),()=>{cancelAnimationFrame(t),window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[H,y,V]),(0,o.useEffect)(()=>{if(!H){let t=r.length;(r=r.filter(t=>t.id!==y)).length!==t&&c(),k(0),E(!1),x.current=!1,b.current&&(b.current.removeAttribute("src"),b.current.load()),R.current&&(URL.revokeObjectURL(R.current),R.current=null),C(null),_.current=null,W.current&&(W.current.abort(),W.current=null);return}return V(),()=>{W.current&&(W.current.abort(),W.current=null)}},[H,e,y,V]),(0,o.useEffect)(()=>{let t=b.current;if(t)if(H){if(u.length>=w){let t=u.shift();t&&(t.pause(),t.removeAttribute("src"),t.load())}u.includes(t)||u.push(t)}else t.pause(),t.removeAttribute("src"),t.load(),u=u.filter(e=>e!==t)},[H,w]),(0,n.jsx)("div",{ref:v,style:{...d,position:"relative",backgroundImage:i?"url(".concat(i,")"):void 0,backgroundSize:"cover",backgroundPosition:"center"},children:H?(0,n.jsxs)(n.Fragment,{children:[L?(0,n.jsx)("video",{ref:b,src:L,muted:!0,playsInline:!0,loop:!0,preload:"auto",style:{width:"100%",height:"100%",objectFit:"cover",display:"block"},onClick:()=>null==m?void 0:m(b.current),onMouseEnter:()=>{var t;return p&&N&&(null==(t=b.current)?void 0:t.play())},onMouseLeave:()=>{var t;return null==(t=b.current)?void 0:t.pause()}}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"z-10 absolute top-0 left-0 flex items-center justify-center w-full h-full text-white text-xs",style:{background:"rgba(0,0,0,0.3)"},children:"loading ".concat(j,"%")}),(0,n.jsx)("div",{className:"z-0 absolute top-0 left-0 w-full h-full pointer-events-none transition duration-200",style:{background:"rgba(128,128,128,".concat(Math.max(0,.3-j/100*.3),")"),backdropFilter:"blur(".concat(Math.max(0,20-j/100*20),"px)")}})]}),!1]}):(0,n.jsx)("div",{style:{width:"100%",height:"100%",color:"#fff",fontSize:"0.7rem",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)"},children:"placeholder ".concat(g)})})}function g(t){let{video:e,onClickVideo:i,style:o}=t;return(0,n.jsxs)("div",{style:{position:"relative",overflow:"hidden",...o},children:[(0,n.jsx)(d,{src:e.src,poster:e.poster,wrapperStyle:{width:"100%",height:"100%"},playOnHover:!0,fetchThresholdPct:-100,maxFetched:7,onClickVideo:i}),e.title&&(0,n.jsx)("div",{className:"absolute bottom-0 w-full bg-black/50 text-white/80 text-xs px-1 py-0.5 text-center",children:e.title})]})}function p(t){let{videos:e,precomputedDimensions:i,onClickVideo:o,spacing:r=12}=t;return(0,n.jsx)("div",{className:"flex flex-col",style:{gap:r},children:e.map((t,e)=>{let r=null==i?void 0:i[e],a=r?r.width/r.height:16/9;return(0,n.jsx)(g,{video:t,onClickVideo:o,style:{width:"100%",aspectRatio:a}},e)})})}var f=i(1769),w=i.n(f);let m={containerHeight:0,widowCount:0,boxes:[]};function y(t){let{videos:e,precomputedDimensions:i,targetRowHeight:r=620,boxSpacing:a=20,onClickVideo:s,className:l}=t,c=(0,o.useRef)(null),[h,u]=(0,o.useState)(0),[g,p]=(0,o.useState)([]),[f,y]=(0,o.useState)([]);(0,o.useEffect)(()=>{if(!c.current)return;let t=new ResizeObserver(t=>{for(let e of t)u(e.contentRect.width)});return t.observe(c.current),()=>t.disconnect()},[]),(0,o.useEffect)(()=>{if(null==i?void 0:i.length){let t=e.map((t,e)=>({v:t,d:i[e]})).filter(t=>t.d&&Number.isFinite(t.d.width)&&Number.isFinite(t.d.height));y(t.map(t=>t.v)),p(t.map(t=>t.d))}else y([]),p([])},[e,i]),(0,o.useEffect)(()=>{if(null==i?void 0:i.length)return;let t=!0;return async function(){let i=performance.now(),n=await Promise.allSettled(e.map(t=>new Promise((e,i)=>{if(!t.poster)return i("No poster");let n=new Image;n.onload=()=>e({width:n.width,height:n.height}),n.onerror=i,n.src=t.poster}))),o=performance.now();if(console.log("⏳ Measuring posters took ".concat((o-i).toFixed(2)," ms")),!t)return;let r=[],a=[];n.forEach((t,i)=>{"fulfilled"===t.status&&Number.isFinite(t.value.width)&&Number.isFinite(t.value.height)?(r.push(t.value),a.push(e[i])):console.warn(n[i])}),p(r),y(a)}(),()=>{t=!1}},[e,i]);let v=Math.max(1,Math.floor(h)),b=performance.now(),[x]=(({layoutInput:t,configuration:e,dependencies:i=[]})=>{let[n,r]=(0,o.useState)(m),[a,s]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{r(w()(t,e))},[t,...i]),(0,o.useEffect)(()=>{n&&!a&&s(!0)},[n]),[n,a]})({layoutInput:g,configuration:{targetRowHeight:r,boxSpacing:a,containerWidth:v,containerPadding:{top:0,right:0,bottom:0,left:0}},dependencies:[g,r,a,v]}),R=performance.now();console.log("\uD83D\uDCD0 Layout calculation took ".concat((R-b).toFixed(2)," ms"));let _=v>1&&g.length>0;return(0,n.jsx)("div",{style:{height:_?x.containerHeight:void 0},className:l,children:(0,n.jsx)("div",{ref:c,style:{position:"relative"},children:_&&x.boxes.map((t,e)=>(0,n.jsxs)("div",{style:{position:"absolute",top:t.top,left:t.left,width:t.width,height:t.height,cursor:"pointer",overflow:"hidden",contentVisibility:"auto",contain:"layout style paint"},children:[(0,n.jsx)(d,{src:f[e].src,poster:f[e].poster,label:e,wrapperStyle:{width:"100%",height:"100%"},playOnHover:!0,fetchThresholdPct:-100,maxFetched:7,onClickVideo:s}),f[e].title&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"absolute bottom-0 w-full bg-black/50 text-white/80 text-xs px-1 py-0.5 text-center",children:f[e].title})})]},e))})})}var v=i(7211),b=i.n(v);function x(t){let{videos:e,precomputedDimensions:i}=t,[r,a]=(0,o.useState)(1),[s,l]=(0,o.useState)(!0),[c,h]=(0,o.useState)(null),[u,d]=(0,o.useState)(null),[g,f]=(0,o.useState)(400),[w,m]=(0,o.useState)(20);(0,o.useEffect)(()=>{let t=window.matchMedia("(min-width: 768px)"),e=()=>{var t,e;let i=null!=(e=null==(t=window.visualViewport)?void 0:t.height)?e:window.innerHeight;l(1.3*window.innerWidth>i),f(.55*i),console.log("setRowHeight",.55*i)},i=()=>{m(t.matches?20:12)};return e(),i(),t.addEventListener("change",i),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),t.removeEventListener("change",i)}},[]);let v=(0,o.useCallback)(()=>{u&&(u.style.opacity="1"),h(null),d(null)},[u]);return(0,o.useEffect)(()=>{let t=t=>{"Escape"===t.key&&v()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[v]),(0,n.jsxs)("div",{children:[s?(0,n.jsx)(y,{videos:e,precomputedDimensions:i,targetRowHeight:g,boxSpacing:w,onClickVideo:t=>{if(console.log(t),c)return;let e=t.currentSrc||t.src,i=t.getAttribute("poster")||void 0;t.style.opacity="0",d(t),h({src:e,poster:i,currentTime:t.currentTime})}}):(0,n.jsx)(p,{videos:e,precomputedDimensions:i,spacing:w}),c&&(0,n.jsx)("div",{className:"".concat(b().overlay),onClick:v,children:(0,n.jsx)("div",{className:"flex items-center justify-center",onClick:t=>t.stopPropagation(),children:(0,n.jsx)("video",{src:c.src,poster:c.poster,controls:!0,autoPlay:!0,loop:!0,muted:!1,style:{maxWidth:"90vw",maxHeight:"80vh",minWidth:"60vw",minHeight:"40vh",width:"auto",height:"auto",objectFit:"contain"},onLoadedMetadata:t=>{t.currentTarget.currentTime=c.currentTime}})})})]})}},9518:(t,e,i)=>{Promise.resolve().then(i.t.bind(i,2619,23)),Promise.resolve().then(i.bind(i,7990)),Promise.resolve().then(i.bind(i,1039)),Promise.resolve().then(i.bind(i,1868))}}]);