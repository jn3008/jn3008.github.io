"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39],{1039:(e,t,n)=>{n.d(t,{default:()=>j});var r=n(5155),l=n(2115),a=n(2619),s=n.n(a),i=n(63),o=n(5379),c=n(4956),u=n(2460),d=n(6635);function h(e){let{button_mode:t,className:n,icon_size:a=18}=e,{theme:s,setTheme:i}=(0,o.D)(),[h,f]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let e=document.documentElement.getAttribute("data-theme-pref");e&&f(e)},[]),(0,r.jsxs)("button",{onClick:()=>{let e=null!=s?s:"system",t="light"===e?"dark":"dark"===e?"system":"light";i(t),document.documentElement.setAttribute("data-theme-pref",t)},className:"p-0 rounded-xl cursor-pointer bg-fg-2 hover:bg-bg text-primary ".concat(null!=n?n:""),title:"Switch theme",children:["icon"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"theme-toggle__icon theme-toggle__icon--light","aria-hidden":!0,children:(0,r.jsx)(c.A,{size:a,stroke:2})}),(0,r.jsx)("span",{className:"theme-toggle__icon theme-toggle__icon--dark","aria-hidden":!0,children:(0,r.jsx)(u.A,{size:a,stroke:2})}),(0,r.jsx)("span",{className:"theme-toggle__icon theme-toggle__icon--system","aria-hidden":!0,children:(0,r.jsx)(d.A,{size:a,stroke:2})})]}),"text"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"font-normal",children:"THEME:"}),(0,r.jsx)("span",{className:"font-bold theme-toggle__icon theme-toggle__icon--light","aria-hidden":!0,children:"LIGHT"}),(0,r.jsx)("span",{className:"font-bold theme-toggle__icon theme-toggle__icon--dark","aria-hidden":!0,children:"DARK"}),(0,r.jsx)("span",{className:"font-bold theme-toggle__icon theme-toggle__icon--system","aria-hidden":!0,children:"SYSTEM"}),(0,r.jsx)("span",{className:"sr-only",children:"Switch theme"})]})]})}var f=n(7650),m=n(3265);let x=e=>{let{width:t,height:a=6,hovered:s,offset:i,anim_type:o=0}=e,c=(0,l.useRef)(null),u=(0,l.useRef)(null),d=(0,l.useRef)(null),[h,f]=(0,l.useState)(!1),x=(0,l.useRef)(s),{resolved_theme:p}=(0,m.w)(),g=(0,l.useMemo)(()=>"dark"===p?"#ffffff":"#121212",[p]),b=(0,l.useRef)(0),v=(0,l.useRef)(0);return(0,l.useEffect)(()=>{x.current=s,s&&!h?(f(!0),clearTimeout(d.current),d.current=null):!s&&h&&(d.current=setTimeout(()=>{b.current<.01&&f(!1),d.current=null},1800))},[s,h]),(0,l.useEffect)(()=>{if(u.current)return;let e=!0,r=async()=>{var r;let l=await Promise.all([n.e(33),n.e(323),n.e(315),n.e(270)]).then(n.bind(n,7676));e&&(console.log("Load p5 once"),null==(r=c.current)||r.querySelectorAll("canvas").forEach(e=>e.remove()),u.current=new l.default(e=>{let n=(e,t)=>e<.5?.5*Math.pow(2*e,t):1-.5*Math.pow(2*(1-e),t),r=t=>e.constrain(t,0,1),l=Math.floor((t+a)*.2),s=.5*i,u=(l-1)*.5,d=(t,l,a)=>{let s=.5*Math.sin(100*a)+.5;e.beginShape();let i=t/e.sqrt(2);for(let t=0;t<4;t++){let a=(t+.5+Math.floor(4*s))*e.TAU/4,c=i;c*=r(e.map(l,t/4,0+(t+1)*1/4,0,1)),0==o?c*=r(e.map((v.current+3*s)%1,t/4,0+(t+1)*1/4,0,1)):1==o&&(c*=n(1-Math.pow(1-(.5*e.sin((v.current+t/4+.1*s)*e.TAU)+.5),1),4));let u=e.cos(a)*c,d=e.sin(a)*c;e.vertex(u,d)}e.endShape(e.CLOSE)};e.setup=()=>{e.createCanvas(t,a,e.P2D).parent(c.current),e.noStroke(),e.fill(g)};let h=e=>{let n=t-i,r=a-i,l=n/(n+r),s=2*(e%=1)>1,o=2*e%1;if(o<l){let e=-(.5*n)+o/l*n,t=-(.5*r);return s?{x:-e,y:-t}:{x:e,y:t}}{let e=-(.5*r)+(o-l)/(1-l)*r,t=.5*n;return s?{x:-t,y:-e}:{x:t,y:e}}};e.draw=()=>{e.clear(),e.translate(.5*t,.5*a),x.current?b.current+=.1*(1-b.current):b.current-=.01,b.current=e.constrain(b.current,0,1),v.current+=.02*b.current;let i=b.current;for(let t=0;t<l;t++){let a=r((i-.30000000000000004*Math.abs(1-t/u))/.7);a=n(a,2),e.push();let{x:o,y:c}=h((t+v.current)*1/l);e.translate(o,c),d(2*s,a,t/l),e.pop()}}}))};return u.current||r(),()=>{e=!1,u.current&&(u.current.remove(),u.current=null)}},[t,a,i]),(0,l.useEffect)(()=>{let e=u.current;e&&e.fill(g)},[g]),(0,r.jsx)("div",{ref:c,className:"z-200",style:{opacity:+!!h,pointerEvents:"none"}})};function p(e){var t,n;let{href:a,children:i,className:o,offset:c=8,anim_type:u=0}=e,[d,h]=(0,l.useState)(!1),[f,m]=(0,l.useState)(null),p=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(!p.current)return;let e=p.current,t=()=>m({width:e.offsetWidth,height:e.offsetHeight});t();let n=new ResizeObserver(t);return n.observe(e),()=>n.disconnect()},[i]);let g=(null!=(t=null==f?void 0:f.width)?t:0)+8,b=(null!=(n=null==f?void 0:f.height)?n:0)+-4;return(0,r.jsxs)(s(),{ref:p,href:a,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),className:"relative inline-block ".concat(o),children:[i,f&&(0,r.jsx)("div",{className:"absolute pointer-events-none",style:{left:"-".concat(c+4,"px"),top:"-".concat(c+-2,"px"),width:g+2*c,height:b+2*c},children:(0,r.jsx)(x,{width:g+2*c,height:b+2*c,hovered:d,offset:c,anim_type:u})})]})}let g=null;function b(e){let{children:t}=e,[n,a]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{let e=setTimeout(()=>a(!1),500);return()=>clearTimeout(e)},[]),(0,r.jsx)("div",{className:"relative inline-block  overflow-x-visible  overflow-y-clip [--lh:1em] h-[var(--lh)]  leading-none ",onMouseEnter:()=>{n||a(!0)},onMouseLeave:()=>{n||a(!1)},children:(0,r.jsxs)("div",{className:"will-change-transform \n          transform-gpu \n          ".concat(n?"transition-transform duration-500 -translate-y-[var(--lh)]":"translate-y-0"),onTransitionEnd:()=>{a(!1)},children:[(0,r.jsx)("span",{className:"block",children:t}),(0,r.jsx)("span",{className:"block absolute top-full",children:t})]})})}var v=n(6174);function j(e){let{children:t}=e,[a,o]=(0,l.useState)(!1),c=(0,i.usePathname)();(0,l.useEffect)(()=>{g||(g=Promise.all([n.e(33),n.e(323),n.e(315),n.e(270)]).then(n.bind(n,7676)).then(e=>(function(e){if("function"==typeof(null==e?void 0:e.default))return e.default;if("function"==typeof e)return e;throw Error("Failed to load p5 constructor from module.")})(e)).catch(e=>{throw g=null,e}))},[]);let u=()=>o(!1),d=[{href:"/processing",label:"PROCESSING"},{href:"/blender",label:"BLENDER"},{href:"/other",label:"OTHER"},{href:"/about",label:"ABOUT"}],m=[{href:"/",label:"HOME"},...d],x=(0,l.useMemo)(()=>(0,r.jsxs)("div",{className:"fixed inset-0 z-[100] flex flex-col bg-black/80 backdrop-blur-sm touch-none",onClick:u,children:[(0,r.jsx)(v.default,{}),(0,r.jsx)("div",{className:"absolute top-6 right-6 flex flex-col items-end gap-4 text-white text-2xl font-bold",onClick:e=>e.stopPropagation(),children:m.map(e=>{let{href:t,label:n}=e;return c===t?(0,r.jsx)(s(),{href:t,className:"nav-link !font-normal italic",children:n},t):(0,r.jsx)(s(),{href:t,onClick:e=>{e.stopPropagation(),u()},className:"nav-link font-semibold",children:n},t)})}),(0,r.jsx)("div",{className:"absolute top-6 left-6",onClick:e=>e.stopPropagation(),children:(0,r.jsx)(h,{button_mode:"icon",className:"text-white text-2xl",icon_size:40})})]}),[1,c]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("header",{className:"sticky top-0 z-50 flex flex-col backdrop-blur-md bg-back/70 text-primary",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 md:py-1 px-4 md:px-3 relative",children:[(0,r.jsx)(v.default,{}),(0,r.jsx)(p,{href:"/",className:"text-xl font-bold tracking-tighter leading-[1.1]",offset:8,anim_type:1,children:(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsx)("div",{children:"jn3008"})})}),(0,r.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,r.jsxs)("nav",{className:"hidden md:flex gap-9",children:[d.map(e=>{let{href:t,label:n}=e;return(0,r.jsx)("div",{children:(0,r.jsx)(p,{href:t,className:"nav-link tracking-tight ".concat(c===t?"font-normal italic":"font-medium"),offset:4.5,children:(0,r.jsx)(b,{children:n})})},t+n)}),(0,r.jsx)(h,{button_mode:"icon"})]}),(0,r.jsxs)("button",{className:"md:hidden flex flex-col gap-[8px] cursor-pointer",onClick:()=>o(!0),"aria-label":"Open menu",children:[(0,r.jsx)("span",{className:"w-6 h-0.5 bg-primary"}),(0,r.jsx)("span",{className:"w-6 h-0.5 bg-primary"})]})]}),a&&(0,f.createPortal)(x,document.body)]}),t&&(0,r.jsx)("div",{className:"w-full border-t border-white/10",children:t})]})})}},3265:(e,t,n)=>{n.d(t,{N:()=>i,w:()=>c});var r=n(5155),l=n(2115),a=n(5379);let s=(0,l.createContext)(void 0);function i(e){let{children:t}=e;return(0,r.jsx)(a.N,{attribute:"data-theme",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:(0,r.jsx)(o,{children:t})})}function o(e){let{children:t}=e,{theme:n,setTheme:i,systemTheme:o}=(0,a.D)(),c="system"===n?o:n,u=(0,l.useMemo)(()=>({theme:n,resolved_theme:c,setTheme:i}),[n,c,i]);return(0,r.jsx)(s.Provider,{value:u,children:t})}function c(){let e=(0,l.useContext)(s);if(!e)throw Error("useThemeContext must be inside ThemeProvider");return e}},6174:(e,t,n)=>{n.d(t,{default:()=>a});var r=n(5155),l=n(2115);function a(e){let{src:t="/tiles/tile.png",className:n}=e,a=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=a.current,n=new Image;n.src=t;let r=()=>{let t=window.devicePixelRatio||1;if(n.naturalWidth&&n.naturalHeight){let r=n.naturalWidth/t,l=n.naturalHeight/t;e.style.backgroundSize="".concat(r,"px ").concat(l,"px")}};return n.onload=r,r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[t]),(0,r.jsx)("div",{ref:a,className:"fixed inset-0 -z-10 pointer-events-none invert-1 opacity-15 ".concat(n),style:{backgroundImage:"url(".concat(t,")"),backgroundRepeat:"repeat",backgroundPosition:"0 0",imageRendering:"pixelated"}})}}}]);