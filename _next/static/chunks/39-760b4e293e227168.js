"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39],{1039:(e,t,n)=>{n.d(t,{default:()=>j});var l=n(5155),r=n(2115),a=n(2619),s=n.n(a),i=n(63),o=n(5379),c=n(4956),u=n(2460),d=n(6635);function h(e){let{button_mode:t,className:n,icon_size:a=18}=e,{theme:s,setTheme:i}=(0,o.D)(),[h,m]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=document.documentElement.getAttribute("data-theme-pref");e&&m(e)},[]),(0,l.jsxs)("button",{onClick:()=>{let e=null!=s?s:"system",t="light"===e?"dark":"dark"===e?"system":"light";i(t),document.documentElement.setAttribute("data-theme-pref",t)},className:"p-0 rounded-xl cursor-pointer bg-fg-2 hover:bg-bg text-primary ".concat(null!=n?n:""),title:"Switch theme",children:["icon"===t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"theme-toggle__icon theme-toggle__icon--light","aria-hidden":!0,children:(0,l.jsx)(c.A,{size:a,stroke:2})}),(0,l.jsx)("span",{className:"theme-toggle__icon theme-toggle__icon--dark","aria-hidden":!0,children:(0,l.jsx)(u.A,{size:a,stroke:2})}),(0,l.jsx)("span",{className:"theme-toggle__icon theme-toggle__icon--system","aria-hidden":!0,children:(0,l.jsx)(d.A,{size:a,stroke:2})})]}),"text"===t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"font-normal",children:"THEME:"}),(0,l.jsx)("span",{className:"font-bold theme-toggle__icon theme-toggle__icon--light","aria-hidden":!0,children:"LIGHT"}),(0,l.jsx)("span",{className:"font-bold theme-toggle__icon theme-toggle__icon--dark","aria-hidden":!0,children:"DARK"}),(0,l.jsx)("span",{className:"font-bold theme-toggle__icon theme-toggle__icon--system","aria-hidden":!0,children:"SYSTEM"}),(0,l.jsx)("span",{className:"sr-only",children:"Switch theme"})]})]})}var m=n(7650),f=n(3265);let x=e=>{let{width:t,height:a=6,hovered:s,offset:i,anim_type:o=0}=e,c=(0,r.useRef)(null),u=(0,r.useRef)(null),d=(0,r.useRef)(null),[h,m]=(0,r.useState)(!1),x=(0,r.useRef)(s),{resolved_theme:p}=(0,f.w)(),g=(0,r.useMemo)(()=>"dark"===p?"#ffffff":"#121212",[p]),b=(0,r.useRef)(0),v=(0,r.useRef)(0);return(0,r.useEffect)(()=>{x.current=s,s&&!h?(m(!0),clearTimeout(d.current),d.current=null):!s&&h&&(d.current=setTimeout(()=>{b.current<.01&&m(!1),d.current=null},1800))},[s,h]),(0,r.useEffect)(()=>{if(u.current)return;let e=!0,l=async()=>{var l;let r=await Promise.all([n.e(33),n.e(323),n.e(315),n.e(270)]).then(n.bind(n,7676));e&&(console.log("Load p5 once"),null==(l=c.current)||l.querySelectorAll("canvas").forEach(e=>e.remove()),u.current=new r.default(e=>{let n=(e,t)=>e<.5?.5*Math.pow(2*e,t):1-.5*Math.pow(2*(1-e),t),l=t=>e.constrain(t,0,1),r=Math.floor((t+a)*.2),s=.5*i,u=(r-1)*.5,d=(t,r,a)=>{let s=.5*Math.sin(100*a)+.5;e.beginShape();let i=t/e.sqrt(2);for(let t=0;t<4;t++){let a=(t+.5+Math.floor(4*s))*e.TAU/4,c=i;c*=l(e.map(r,t/4,0+(t+1)*1/4,0,1)),0==o?c*=l(e.map((v.current+3*s)%1,t/4,0+(t+1)*1/4,0,1)):1==o&&(c*=n(1-Math.pow(1-(.5*e.sin((v.current+t/4+.1*s)*e.TAU)+.5),1),4));let u=e.cos(a)*c,d=e.sin(a)*c;e.vertex(u,d)}e.endShape(e.CLOSE)};e.setup=()=>{e.createCanvas(t,a,e.P2D).parent(c.current),e.noStroke(),e.fill(g)};let h=e=>{let n=t-i,l=a-i,r=n/(n+l),s=2*(e%=1)>1,o=2*e%1;if(o<r){let e=-(.5*n)+o/r*n,t=-(.5*l);return s?{x:-e,y:-t}:{x:e,y:t}}{let e=-(.5*l)+(o-r)/(1-r)*l,t=.5*n;return s?{x:-t,y:-e}:{x:t,y:e}}};e.draw=()=>{e.clear(),e.translate(.5*t,.5*a),x.current?b.current+=.1*(1-b.current):b.current-=.01,b.current=e.constrain(b.current,0,1),v.current+=.02*b.current;let i=b.current;for(let t=0;t<r;t++){let a=l((i-.30000000000000004*Math.abs(1-t/u))/.7);a=n(a,2),e.push();let{x:o,y:c}=h((t+v.current)*1/r);e.translate(o,c),d(2*s,a,t/r),e.pop()}}}))};return u.current||l(),()=>{e=!1,u.current&&(u.current.remove(),u.current=null)}},[t,a,i]),(0,r.useEffect)(()=>{let e=u.current;e&&e.fill(g)},[g]),(0,l.jsx)("div",{ref:c,className:"z-200",style:{opacity:+!!h,pointerEvents:"none"}})};function p(e){var t,n;let{href:a,children:i,className:o,offset:c=8,anim_type:u=0}=e,[d,h]=(0,r.useState)(!1),[m,f]=(0,r.useState)(null),p=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(!p.current)return;let e=p.current,t=()=>f({width:e.offsetWidth,height:e.offsetHeight});t();let n=new ResizeObserver(t);return n.observe(e),()=>n.disconnect()},[i]);let g=(null!=(t=null==m?void 0:m.width)?t:0)+8,b=(null!=(n=null==m?void 0:m.height)?n:0)+-4;return(0,l.jsxs)(s(),{ref:p,href:a,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),className:"relative inline-block ".concat(o),children:[i,m&&(0,l.jsx)("div",{className:"absolute pointer-events-none",style:{left:"-".concat(c+4,"px"),top:"-".concat(c+-2,"px"),width:g+2*c,height:b+2*c},children:(0,l.jsx)(x,{width:g+2*c,height:b+2*c,hovered:d,offset:c,anim_type:u})})]})}let g=null;function b(e){let{children:t}=e,[n,a]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let e=setTimeout(()=>a(!1),500);return()=>clearTimeout(e)},[]),(0,l.jsx)("div",{className:"relative inline-block  overflow-x-visible  overflow-y-clip [--lh:1em] h-[var(--lh)]  leading-none ",onMouseEnter:()=>{n||a(!0)},onMouseLeave:()=>{n||a(!1)},children:(0,l.jsxs)("div",{className:"will-change-transform \n          transform-gpu \n          ".concat(n?"transition-transform duration-500 -translate-y-[var(--lh)]":"translate-y-0"),onTransitionEnd:()=>{a(!1)},children:[(0,l.jsx)("span",{className:"block",children:t}),(0,l.jsx)("span",{className:"block absolute top-full",children:t})]})})}var v=n(1868);function j(e){let{children:t}=e,[a,o]=(0,r.useState)(!1),c=(0,i.usePathname)();(0,r.useEffect)(()=>{g||(g=Promise.all([n.e(33),n.e(323),n.e(315),n.e(270)]).then(n.bind(n,7676)).then(e=>(function(e){if("function"==typeof(null==e?void 0:e.default))return e.default;if("function"==typeof e)return e;throw Error("Failed to load p5 constructor from module.")})(e)).catch(e=>{throw g=null,e}))},[]);let u=()=>o(!1),d=[{href:"/processing",label:"PROCESSING"},{href:"/blender",label:"BLENDER"},{href:"/other",label:"OTHER"},{href:"/about",label:"ABOUT"}],f=[{href:"/",label:"HOME"},...d],x=(0,r.useMemo)(()=>(0,l.jsxs)("div",{className:"fixed inset-0 z-[100] flex flex-col bg-black/80 backdrop-blur-sm touch-none",onClick:u,children:[(0,l.jsx)(v.GrainElement,{opacity_multiplier:1}),(0,l.jsx)("div",{className:"absolute top-6 right-6 flex flex-col items-end gap-4 text-white text-2xl font-bold",onClick:e=>e.stopPropagation(),children:f.map(e=>{let{href:t,label:n}=e;return c===t?(0,l.jsx)(s(),{href:t,className:"nav-link !font-normal italic",children:n},t):(0,l.jsx)(s(),{href:t,onClick:e=>{e.stopPropagation(),u()},className:"nav-link font-semibold",children:n},t)})}),(0,l.jsx)("div",{className:"absolute top-6 left-6",onClick:e=>e.stopPropagation(),children:(0,l.jsx)(h,{button_mode:"icon",className:"text-white text-2xl",icon_size:40})})]}),[1,c]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("header",{className:"sticky top-0 z-50 flex flex-col backdrop-blur-md bg-back/70 text-primary",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center py-2 md:py-1 px-4 md:px-3 relative",children:["/"!==c&&(0,l.jsx)(v.GrainElement,{opacity_multiplier:.75}),(0,l.jsx)(p,{href:"/",className:"text-xl font-bold tracking-tighter leading-[1.1]",offset:8,anim_type:1,children:(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsx)("div",{children:"jn3008"})})}),(0,l.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,l.jsxs)("nav",{className:"hidden md:flex gap-9",children:[d.map(e=>{let{href:t,label:n}=e;return(0,l.jsx)("div",{children:(0,l.jsx)(p,{href:t,className:"nav-link tracking-tight ".concat(c===t?"font-normal italic":"font-medium"),offset:4.5,children:(0,l.jsx)(b,{children:n})})},t+n)}),(0,l.jsx)(h,{button_mode:"icon"})]}),(0,l.jsxs)("button",{className:"md:hidden flex flex-col gap-[8px] cursor-pointer",onClick:()=>o(!0),"aria-label":"Open menu",children:[(0,l.jsx)("span",{className:"w-6 h-0.5 bg-primary"}),(0,l.jsx)("span",{className:"w-6 h-0.5 bg-primary"})]})]}),a&&(0,m.createPortal)(x,document.body)]}),t&&(0,l.jsx)("div",{className:"w-full border-t border-white/10",children:t})]})})}},1868:(e,t,n)=>{n.d(t,{GrainElement:()=>i});var l=n(5155),r=n(3265),a=n(2115);function s(e){let{opacity:t=.2,size:n=256,blend:s="overlay"}=e,i=(0,a.useRef)(null),{resolved_theme:o}=(0,r.w)(),[c,u]=(0,a.useState)(null);return(0,a.useEffect)(()=>{u(+("dark"!==document.documentElement.getAttribute("data-theme")))},[]),(0,a.useEffect)(()=>{o&&u(+("dark"!==o))},[o]),(0,a.useEffect)(()=>{if(null===c)return;let e=document.createElement("canvas");e.width=n,e.height=n;let l=e.getContext("2d"),r=l.createImageData(n,n),a=Math.round(255*t);for(let e=0;e<r.data.length;e+=4){let t=255*Math.pow(Math.random(),18);r.data[e]=r.data[e+1]=r.data[e+2]=t,r.data[e+3]=a}l.putImageData(r,0,0);let s=e.toDataURL();if(i.current){let e=i.current;e.style.backgroundImage="url(".concat(s,")"),e.style.backgroundRepeat="repeat",e.style.backgroundSize="".concat(n,"px ").concat(n,"px"),e.style.filter="invert(".concat(c,")")}},[c,t,n]),(0,l.jsx)("div",{ref:i,suppressHydrationWarning:!0,className:"fixed inset-0 pointer-events-none -z-10 ".concat("normal"!==s?"mix-blend-".concat(s):""),style:{filter:null!==c?"invert(".concat(c,")"):void 0}})}function i(e){let{opacity_multiplier:t=1}=e,{resolved_theme:n}=(0,r.w)();return(0,l.jsx)(s,{opacity:t*("dark"===n?.15:.08),blend:"normal"})}},3265:(e,t,n)=>{n.d(t,{N:()=>i,w:()=>c});var l=n(5155),r=n(2115),a=n(5379);let s=(0,r.createContext)(void 0);function i(e){let{children:t}=e;return(0,l.jsx)(a.N,{attribute:"data-theme",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:(0,l.jsx)(o,{children:t})})}function o(e){let{children:t}=e,{theme:n,setTheme:i,systemTheme:o}=(0,a.D)(),c="system"===n?o:n,u=(0,r.useMemo)(()=>({theme:n,resolved_theme:c,setTheme:i}),[n,c,i]);return(0,l.jsx)(s.Provider,{value:u,children:t})}function c(){let e=(0,r.useContext)(s);if(!e)throw Error("useThemeContext must be inside ThemeProvider");return e}}}]);